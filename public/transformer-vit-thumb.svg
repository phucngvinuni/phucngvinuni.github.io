<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="630" viewBox="0 0 1200 630">
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d1117"/>
      <stop offset="100%" style="stop-color:#161b2e"/>
    </linearGradient>
    <!-- Blue glow gradient -->
    <linearGradient id="blueGlow" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0"/>
      <stop offset="50%" style="stop-color:#6366f1;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:0"/>
    </linearGradient>
    <!-- Arrow gradient -->
    <linearGradient id="arrowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <!-- Attention cell gradients -->
    <linearGradient id="cellHigh" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#6366f1"/>
    </linearGradient>
    <!-- Card gradient -->
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e2433"/>
      <stop offset="100%" style="stop-color:#141924"/>
    </linearGradient>
    <!-- Glow filter -->
    <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Soft glow filter -->
    <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="12" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Text glow -->
    <filter id="textGlow" x="-10%" y="-20%" width="120%" height="140%">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <marker id="arrowH" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#6366f1"/>
    </marker>
    <marker id="arrowB" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#3b82f6"/>
    </marker>
    <marker id="arrowP" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#8b5cf6"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="630" fill="url(#bg)"/>

  <!-- Ambient glow orbs -->
  <circle cx="200" cy="150" r="180" fill="#3b82f6" opacity="0.04"/>
  <circle cx="1000" cy="480" r="200" fill="#8b5cf6" opacity="0.05"/>
  <circle cx="600" cy="315" r="150" fill="#6366f1" opacity="0.03"/>

  <!-- Dot grid pattern -->
  <pattern id="dots" x="0" y="0" width="30" height="30" patternUnits="userSpaceOnUse">
    <circle cx="15" cy="15" r="1" fill="#ffffff" opacity="0.05"/>
  </pattern>
  <rect width="1200" height="630" fill="url(#dots)"/>

  <!-- ====== TRANSFORMER SECTION (LEFT) ====== -->
  <!-- Card background -->
  <rect x="40" y="110" width="340" height="420" rx="16" fill="url(#cardGrad)" stroke="#2a3147" stroke-width="1.5"/>

  <!-- Section label -->
  <text x="60" y="145" font-family="'Courier New', monospace" font-size="11" fill="#6366f1" letter-spacing="3" font-weight="600">TRANSFORMER</text>
  <line x1="60" y1="152" x2="200" y2="152" stroke="#6366f1" stroke-width="1" opacity="0.5"/>

  <!-- Q, K, V labels and boxes -->
  <!-- Q box -->
  <rect x="60" y="170" width="50" height="28" rx="6" fill="#1e2d4a" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="85" y="189" font-family="'Courier New', monospace" font-size="14" fill="#60a5fa" text-anchor="middle" font-weight="bold">Q</text>

  <!-- K box -->
  <rect x="60" y="212" width="50" height="28" rx="6" fill="#1e2d4a" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="85" y="231" font-family="'Courier New', monospace" font-size="14" fill="#60a5fa" text-anchor="middle" font-weight="bold">K</text>

  <!-- V box -->
  <rect x="60" y="254" width="50" height="28" rx="6" fill="#1e2d4a" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="85" y="273" font-family="'Courier New', monospace" font-size="14" fill="#60a5fa" text-anchor="middle" font-weight="bold">V</text>

  <!-- Arrows from Q,K,V to attention block -->
  <line x1="110" y1="184" x2="150" y2="184" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowB)" opacity="0.8"/>
  <line x1="110" y1="226" x2="150" y2="226" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowB)" opacity="0.8"/>
  <line x1="110" y1="268" x2="150" y2="268" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowB)" opacity="0.8"/>

  <!-- Attention block -->
  <rect x="158" y="162" width="110" height="144" rx="8" fill="#1a253d" stroke="#6366f1" stroke-width="1.5"/>
  <!-- Attention heatmap cells (7x7 mini grid) -->
  <!-- Row 0 -->
  <rect x="166" y="170" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.95"/>
  <rect x="182" y="170" width="14" height="14" rx="2" fill="#6366f1" opacity="0.5"/>
  <rect x="198" y="170" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <rect x="214" y="170" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.1"/>
  <rect x="230" y="170" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.15"/>
  <rect x="246" y="170" width="14" height="14" rx="2" fill="#6366f1" opacity="0.3"/>
  <!-- Row 1 -->
  <rect x="166" y="186" width="14" height="14" rx="2" fill="#6366f1" opacity="0.3"/>
  <rect x="182" y="186" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.9"/>
  <rect x="198" y="186" width="14" height="14" rx="2" fill="#6366f1" opacity="0.6"/>
  <rect x="214" y="186" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <rect x="230" y="186" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.1"/>
  <rect x="246" y="186" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.15"/>
  <!-- Row 2 -->
  <rect x="166" y="202" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.1"/>
  <rect x="182" y="202" width="14" height="14" rx="2" fill="#8b5cf6" opacity="0.5"/>
  <rect x="198" y="202" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.95"/>
  <rect x="214" y="202" width="14" height="14" rx="2" fill="#6366f1" opacity="0.4"/>
  <rect x="230" y="202" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <rect x="246" y="202" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.05"/>
  <!-- Row 3 -->
  <rect x="166" y="218" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.15"/>
  <rect x="182" y="218" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <rect x="198" y="218" width="14" height="14" rx="2" fill="#6366f1" opacity="0.4"/>
  <rect x="214" y="218" width="14" height="14" rx="2" fill="#8b5cf6" opacity="0.9"/>
  <rect x="230" y="218" width="14" height="14" rx="2" fill="#6366f1" opacity="0.5"/>
  <rect x="246" y="218" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <!-- Row 4 -->
  <rect x="166" y="234" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.05"/>
  <rect x="182" y="234" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.1"/>
  <rect x="198" y="234" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.2"/>
  <rect x="214" y="234" width="14" height="14" rx="2" fill="#6366f1" opacity="0.45"/>
  <rect x="230" y="234" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.9"/>
  <rect x="246" y="234" width="14" height="14" rx="2" fill="#6366f1" opacity="0.4"/>
  <!-- Row 5 -->
  <rect x="166" y="250" width="14" height="14" rx="2" fill="#6366f1" opacity="0.2"/>
  <rect x="182" y="250" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.05"/>
  <rect x="198" y="250" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.1"/>
  <rect x="214" y="250" width="14" height="14" rx="2" fill="#3b82f6" opacity="0.3"/>
  <rect x="230" y="250" width="14" height="14" rx="2" fill="#6366f1" opacity="0.6"/>
  <rect x="246" y="250" width="14" height="14" rx="2" fill="#8b5cf6" opacity="0.95"/>
  <!-- Attention label -->
  <text x="213" y="285" font-family="'Courier New', monospace" font-size="9" fill="#a5b4fc" text-anchor="middle" letter-spacing="1">ATTENTION</text>

  <!-- Arrow out of attention block -->
  <line x1="268" y1="226" x2="305" y2="226" stroke="#6366f1" stroke-width="1.5" marker-end="url(#arrowH)" opacity="0.8"/>

  <!-- Output box -->
  <rect x="310" y="212" width="58" height="28" rx="6" fill="#231a3d" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="339" y="231" font-family="'Courier New', monospace" font-size="10" fill="#c4b5fd" text-anchor="middle" font-weight="bold">OUT</text>

  <!-- Formula below -->
  <rect x="58" y="315" width="302" height="44" rx="8" fill="#10172a" stroke="#2a3147" stroke-width="1"/>
  <text x="209" y="333" font-family="'Courier New', monospace" font-size="10" fill="#94a3b8" text-anchor="middle">softmax( QKᵀ / √d_k ) · V</text>
  <text x="209" y="350" font-family="'Courier New', monospace" font-size="9" fill="#475569" text-anchor="middle">Scaled Dot-Product Attention</text>

  <!-- Multi-head diagram -->
  <text x="60" y="386" font-family="'Courier New', monospace" font-size="9" fill="#64748b" letter-spacing="1">MULTI-HEAD  h=8 heads, d_k=64</text>
  <!-- 8 mini head bars -->
  <rect x="60" y="393" width="30" height="12" rx="3" fill="#3b82f6" opacity="0.8"/>
  <rect x="96" y="393" width="30" height="12" rx="3" fill="#6366f1" opacity="0.7"/>
  <rect x="132" y="393" width="30" height="12" rx="3" fill="#8b5cf6" opacity="0.75"/>
  <rect x="168" y="393" width="30" height="12" rx="3" fill="#3b82f6" opacity="0.6"/>
  <rect x="204" y="393" width="30" height="12" rx="3" fill="#6366f1" opacity="0.8"/>
  <rect x="240" y="393" width="30" height="12" rx="3" fill="#8b5cf6" opacity="0.65"/>
  <rect x="276" y="393" width="30" height="12" rx="3" fill="#3b82f6" opacity="0.7"/>
  <rect x="312" y="393" width="28" height="12" rx="3" fill="#6366f1" opacity="0.75"/>

  <!-- Concat arrow -->
  <line x1="209" y1="405" x2="209" y2="425" stroke="#6366f1" stroke-width="1.5" marker-end="url(#arrowH)" opacity="0.6"/>
  <rect x="140" y="428" width="140" height="24" rx="6" fill="#1a1f2e" stroke="#6366f1" stroke-width="1"/>
  <text x="210" y="445" font-family="'Courier New', monospace" font-size="10" fill="#a5b4fc" text-anchor="middle">Concat → W^O</text>

  <!-- ====== ViT SECTION (RIGHT) ====== -->
  <rect x="820" y="110" width="340" height="420" rx="16" fill="url(#cardGrad)" stroke="#2a3147" stroke-width="1.5"/>

  <text x="840" y="145" font-family="'Courier New', monospace" font-size="11" fill="#8b5cf6" letter-spacing="3" font-weight="600">VISION TRANSFORMER</text>
  <line x1="840" y1="152" x2="1010" y2="152" stroke="#8b5cf6" stroke-width="1" opacity="0.5"/>

  <!-- Image patch grid (7×7 patches) -->
  <!-- Draw a mini "image" with colored patches -->
  <rect x="840" y="163" width="146" height="146" rx="4" fill="#0a0e1a" stroke="#2a3147" stroke-width="1"/>

  <!-- Patch colors simulating a real image (sky/landscape-like) -->
  <!-- Row 0: sky patches -->
  <rect x="841" y="164" width="20" height="20" rx="1" fill="#1e3a5f" opacity="0.9"/>
  <rect x="862" y="164" width="20" height="20" rx="1" fill="#1e4060" opacity="0.9"/>
  <rect x="883" y="164" width="20" height="20" rx="1" fill="#234870" opacity="0.9"/>
  <rect x="904" y="164" width="20" height="20" rx="1" fill="#1e3a5f" opacity="0.9"/>
  <rect x="925" y="164" width="20" height="20" rx="1" fill="#1e3d60" opacity="0.9"/>
  <rect x="946" y="164" width="20" height="20" rx="1" fill="#1a3558" opacity="0.9"/>
  <rect x="967" y="164" width="19" height="20" rx="1" fill="#1e3a5f" opacity="0.9"/>
  <!-- Row 1 -->
  <rect x="841" y="185" width="20" height="20" rx="1" fill="#2a4d7a" opacity="0.9"/>
  <rect x="862" y="185" width="20" height="20" rx="1" fill="#4a6ea0" opacity="0.9"/>
  <rect x="883" y="185" width="20" height="20" rx="1" fill="#5a80b0" opacity="0.9"/>
  <rect x="904" y="185" width="20" height="20" rx="1" fill="#4a6ea0" opacity="0.9"/>
  <rect x="925" y="185" width="20" height="20" rx="1" fill="#3a5d8a" opacity="0.9"/>
  <rect x="946" y="185" width="20" height="20" rx="1" fill="#2a4d7a" opacity="0.9"/>
  <rect x="967" y="185" width="19" height="20" rx="1" fill="#1e3a6a" opacity="0.9"/>
  <!-- Row 2 -->
  <rect x="841" y="206" width="20" height="20" rx="1" fill="#1a3350" opacity="0.9"/>
  <rect x="862" y="206" width="20" height="20" rx="1" fill="#2e5c3e" opacity="0.9"/>
  <rect x="883" y="206" width="20" height="20" rx="1" fill="#3a7050" opacity="0.9"/>
  <rect x="904" y="206" width="20" height="20" rx="1" fill="#45805c" opacity="0.9"/>
  <rect x="925" y="206" width="20" height="20" rx="1" fill="#3a7050" opacity="0.9"/>
  <rect x="946" y="206" width="20" height="20" rx="1" fill="#2e5c3e" opacity="0.9"/>
  <rect x="967" y="206" width="19" height="20" rx="1" fill="#1a3550" opacity="0.9"/>
  <!-- Row 3 -->
  <rect x="841" y="227" width="20" height="20" rx="1" fill="#2e5c3e" opacity="0.9"/>
  <rect x="862" y="227" width="20" height="20" rx="1" fill="#406b44" opacity="0.9"/>
  <rect x="883" y="227" width="20" height="20" rx="1" fill="#557055" opacity="0.9"/>
  <rect x="904" y="227" width="20" height="20" rx="1" fill="#406b44" opacity="0.9"/>
  <rect x="925" y="227" width="20" height="20" rx="1" fill="#2e5c3e" opacity="0.9"/>
  <rect x="946" y="227" width="20" height="20" rx="1" fill="#254d35" opacity="0.9"/>
  <rect x="967" y="227" width="19" height="20" rx="1" fill="#1e4030" opacity="0.9"/>
  <!-- Row 4 -->
  <rect x="841" y="248" width="20" height="20" rx="1" fill="#3d5a2a" opacity="0.9"/>
  <rect x="862" y="248" width="20" height="20" rx="1" fill="#4a6a34" opacity="0.9"/>
  <rect x="883" y="248" width="20" height="20" rx="1" fill="#3d5a2a" opacity="0.9"/>
  <rect x="904" y="248" width="20" height="20" rx="1" fill="#2e4a20" opacity="0.9"/>
  <rect x="925" y="248" width="20" height="20" rx="1" fill="#3d5a2a" opacity="0.9"/>
  <rect x="946" y="248" width="20" height="20" rx="1" fill="#304525" opacity="0.9"/>
  <rect x="967" y="248" width="19" height="20" rx="1" fill="#253a1a" opacity="0.9"/>
  <!-- Row 5 -->
  <rect x="841" y="269" width="20" height="20" rx="1" fill="#2a3a18" opacity="0.9"/>
  <rect x="862" y="269" width="20" height="20" rx="1" fill="#354a20" opacity="0.9"/>
  <rect x="883" y="269" width="20" height="20" rx="1" fill="#2a3a18" opacity="0.9"/>
  <rect x="904" y="269" width="20" height="20" rx="1" fill="#354a20" opacity="0.9"/>
  <rect x="925" y="269" width="20" height="20" rx="1" fill="#3a5224" opacity="0.9"/>
  <rect x="946" y="269" width="20" height="20" rx="1" fill="#2e4520" opacity="0.9"/>
  <rect x="967" y="269" width="19" height="20" rx="1" fill="#22351a" opacity="0.9"/>
  <!-- Row 6 -->
  <rect x="841" y="290" width="20" height="20" rx="1" fill="#1e2e12" opacity="0.9"/>
  <rect x="862" y="290" width="20" height="20" rx="1" fill="#283c18" opacity="0.9"/>
  <rect x="883" y="290" width="20" height="20" rx="1" fill="#1e2e12" opacity="0.9"/>
  <rect x="904" y="290" width="20" height="20" rx="1" fill="#243518" opacity="0.9"/>
  <rect x="925" y="290" width="20" height="20" rx="1" fill="#283c18" opacity="0.9"/>
  <rect x="946" y="290" width="20" height="20" rx="1" fill="#1e2e12" opacity="0.9"/>
  <rect x="967" y="290" width="19" height="20" rx="1" fill="#182510" opacity="0.9"/>

  <!-- Grid lines over image to show patch boundaries -->
  <line x1="841" y1="164" x2="986" y2="164" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="185" x2="986" y2="185" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="206" x2="986" y2="206" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="227" x2="986" y2="227" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="248" x2="986" y2="248" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="269" x2="986" y2="269" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="841" y1="290" x2="986" y2="290" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="862" y1="164" x2="862" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="883" y1="164" x2="883" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="904" y1="164" x2="904" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="925" y1="164" x2="925" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="946" y1="164" x2="946" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>
  <line x1="967" y1="164" x2="967" y2="310" stroke="#8b5cf6" stroke-width="0.5" opacity="0.6"/>

  <!-- Image border -->
  <rect x="840" y="163" width="146" height="147" rx="4" fill="none" stroke="#8b5cf6" stroke-width="1.5"/>

  <!-- Label for patches -->
  <text x="913" y="324" font-family="'Courier New', monospace" font-size="9" fill="#a78bfa" text-anchor="middle" letter-spacing="1">H×W→N patches</text>

  <!-- Patch count formula -->
  <rect x="840" y="330" width="146" height="26" rx="6" fill="#10172a" stroke="#2a3147" stroke-width="1"/>
  <text x="913" y="348" font-family="'Courier New', monospace" font-size="10" fill="#94a3b8" text-anchor="middle">N = HW / P²  =  196</text>

  <!-- Token sequence boxes -->
  <text x="840" y="378" font-family="'Courier New', monospace" font-size="9" fill="#64748b" letter-spacing="1">PATCH TOKENS (flattened + projected)</text>

  <!-- CLS token + patch tokens row -->
  <rect x="840" y="385" width="24" height="22" rx="4" fill="#3b1f6a" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="852" y="401" font-family="'Courier New', monospace" font-size="8" fill="#c4b5fd" text-anchor="middle" font-weight="bold">CLS</text>

  <rect x="868" y="385" width="20" height="22" rx="3" fill="#1e2d4a" stroke="#6366f1" stroke-width="1"/>
  <text x="878" y="401" font-family="'Courier New', monospace" font-size="8" fill="#93c5fd" text-anchor="middle">p₁</text>

  <rect x="892" y="385" width="20" height="22" rx="3" fill="#1e2d4a" stroke="#6366f1" stroke-width="1"/>
  <text x="902" y="401" font-family="'Courier New', monospace" font-size="8" fill="#93c5fd" text-anchor="middle">p₂</text>

  <rect x="916" y="385" width="20" height="22" rx="3" fill="#1e2d4a" stroke="#6366f1" stroke-width="1"/>
  <text x="926" y="401" font-family="'Courier New', monospace" font-size="8" fill="#93c5fd" text-anchor="middle">p₃</text>

  <rect x="940" y="385" width="20" height="22" rx="3" fill="#1e2d4a" stroke="#3d4f7a" stroke-width="1"/>
  <text x="950" y="401" font-family="'Courier New', monospace" font-size="10" fill="#475569" text-anchor="middle">···</text>

  <rect x="964" y="385" width="20" height="22" rx="3" fill="#1e2d4a" stroke="#6366f1" stroke-width="1"/>
  <text x="974" y="401" font-family="'Courier New', monospace" font-size="7" fill="#93c5fd" text-anchor="middle">p₁₉₆</text>

  <!-- Arrow down to transformer block -->
  <line x1="913" y1="407" x2="913" y2="423" stroke="#8b5cf6" stroke-width="1.5" marker-end="url(#arrowP)" opacity="0.7"/>

  <!-- Transformer encoder box -->
  <rect x="840" y="426" width="302" height="36" rx="8" fill="#1a1330" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="991" y="440" font-family="'Courier New', monospace" font-size="10" fill="#c4b5fd" text-anchor="middle" font-weight="bold">Transformer Encoder × L</text>
  <text x="991" y="455" font-family="'Courier New', monospace" font-size="8" fill="#7c6fa8" text-anchor="middle">MSA(LN(z)) + z  →  MLP(LN(z)) + z</text>

  <!-- ====== CENTER SECTION ====== -->
  <!-- Central connecting element -->
  <rect x="430" y="110" width="340" height="420" rx="16" fill="url(#cardGrad)" stroke="#2a3147" stroke-width="1.5"/>

  <!-- Central title -->
  <text x="600" y="160" font-family="Georgia, serif" font-size="26" fill="#ffffff" text-anchor="middle" font-weight="bold" filter="url(#textGlow)">From Words</text>
  <text x="600" y="192" font-family="Georgia, serif" font-size="26" fill="#ffffff" text-anchor="middle" font-weight="bold" filter="url(#textGlow)">to Pixels</text>

  <!-- Subtitle accent line -->
  <line x1="480" y1="204" x2="720" y2="204" stroke="url(#blueGlow)" stroke-width="2"/>

  <!-- Subtitle -->
  <text x="600" y="228" font-family="'Courier New', monospace" font-size="12" fill="#64748b" text-anchor="middle" letter-spacing="2">TRANSFORMER  ×  ViT</text>

  <!-- Central visual: two architecture boxes connected -->
  <!-- Encoder label box -->
  <rect x="460" y="248" width="130" height="38" rx="8" fill="#1e2433" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="525" y="263" font-family="'Courier New', monospace" font-size="10" fill="#60a5fa" text-anchor="middle" font-weight="bold">ENCODER</text>
  <text x="525" y="278" font-family="'Courier New', monospace" font-size="8" fill="#475569" text-anchor="middle">N=6 layers</text>

  <!-- Decoder label box -->
  <rect x="610" y="248" width="130" height="38" rx="8" fill="#1e2433" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="675" y="263" font-family="'Courier New', monospace" font-size="10" fill="#c4b5fd" text-anchor="middle" font-weight="bold">DECODER</text>
  <text x="675" y="278" font-family="'Courier New', monospace" font-size="8" fill="#475569" text-anchor="middle">Cross-Attn</text>

  <!-- Arrow between -->
  <line x1="590" y1="267" x2="610" y2="267" stroke="url(#arrowGrad)" stroke-width="2" marker-end="url(#arrowH)"/>

  <!-- Key stats -->
  <rect x="456" y="305" width="288" height="120" rx="10" fill="#0f1520" stroke="#1e2d40" stroke-width="1"/>

  <!-- Transformer stats -->
  <text x="476" y="325" font-family="'Courier New', monospace" font-size="9" fill="#3b82f6" letter-spacing="1" font-weight="bold">TRANSFORMER</text>
  <text x="476" y="341" font-family="'Courier New', monospace" font-size="9" fill="#475569">d_model = 512   h = 8</text>
  <text x="476" y="356" font-family="'Courier New', monospace" font-size="9" fill="#475569">d_ff = 2048     N = 6</text>
  <text x="476" y="371" font-family="'Courier New', monospace" font-size="9" fill="#475569">28.4 BLEU EN-DE</text>

  <!-- Divider -->
  <line x1="600" y1="313" x2="600" y2="417" stroke="#2a3147" stroke-width="1"/>

  <!-- ViT stats -->
  <text x="616" y="325" font-family="'Courier New', monospace" font-size="9" fill="#8b5cf6" letter-spacing="1" font-weight="bold">ViT</text>
  <text x="616" y="341" font-family="'Courier New', monospace" font-size="9" fill="#475569">Patch = 16×16</text>
  <text x="616" y="356" font-family="'Courier New', monospace" font-size="9" fill="#475569">N = 196 tokens</text>
  <text x="616" y="371" font-family="'Courier New', monospace" font-size="9" fill="#475569">88.55% ImageNet</text>

  <!-- Common principle -->
  <rect x="456" y="436" width="288" height="52" rx="8" fill="#10172a" stroke="#2a3147" stroke-width="1"/>
  <text x="600" y="455" font-family="'Courier New', monospace" font-size="9" fill="#6366f1" text-anchor="middle" letter-spacing="1">SHARED PRINCIPLE</text>
  <text x="600" y="470" font-family="'Courier New', monospace" font-size="9" fill="#475569" text-anchor="middle">Attention(Q,K,V) = softmax(QKᵀ/√dₖ)V</text>
  <text x="600" y="482" font-family="'Courier New', monospace" font-size="8" fill="#334155" text-anchor="middle">tokens can be words or image patches</text>

  <!-- ====== CONNECTING ARROWS BETWEEN PANELS ====== -->
  <!-- Left to center -->
  <path d="M 380 330 C 410 330, 420 330, 430 330" stroke="url(#arrowGrad)" stroke-width="2" fill="none" marker-end="url(#arrowH)" opacity="0.6"/>
  <!-- Center to right -->
  <path d="M 770 330 C 790 330, 800 330, 820 330" stroke="url(#arrowGrad)" stroke-width="2" fill="none" marker-end="url(#arrowP)" opacity="0.6"/>

  <!-- ====== TOP HEADER BAND ====== -->
  <rect x="0" y="0" width="1200" height="100" fill="#080d14" opacity="0.8"/>
  <text x="600" y="42" font-family="Georgia, 'Times New Roman', serif" font-size="32" fill="#f1f5f9" text-anchor="middle" font-weight="bold" letter-spacing="1">From Words to Pixels</text>
  <text x="600" y="72" font-family="'Courier New', monospace" font-size="13" fill="#475569" text-anchor="middle" letter-spacing="3">A DEEP DIVE INTO TRANSFORMERS AND VISION TRANSFORMERS</text>

  <!-- Top accent line -->
  <rect x="0" y="97" width="1200" height="2" fill="url(#blueGlow)" opacity="0.8"/>

  <!-- ====== BOTTOM FOOTER ====== -->
  <rect x="0" y="590" width="1200" height="40" fill="#080d14" opacity="0.8"/>
  <rect x="0" y="588" width="1200" height="2" fill="url(#blueGlow)" opacity="0.5"/>
  <text x="600" y="614" font-family="'Courier New', monospace" font-size="11" fill="#334155" text-anchor="middle" letter-spacing="2">Vaswani et al. 2017  ×  Dosovitskiy et al. 2021  |  Nguyen Hong Phuc</text>

  <!-- Tag pills at bottom -->
  <rect x="40" y="594" width="88" height="22" rx="11" fill="#1e2d4a" stroke="#3b82f6" stroke-width="1"/>
  <text x="84" y="609" font-family="'Courier New', monospace" font-size="9" fill="#60a5fa" text-anchor="middle">Transformers</text>

  <rect x="136" y="594" width="44" height="22" rx="11" fill="#231a3d" stroke="#8b5cf6" stroke-width="1"/>
  <text x="158" y="609" font-family="'Courier New', monospace" font-size="9" fill="#c4b5fd" text-anchor="middle">ViT</text>

  <rect x="188" y="594" width="100" height="22" rx="11" fill="#1a2e1a" stroke="#22c55e" stroke-width="1"/>
  <text x="238" y="609" font-family="'Courier New', monospace" font-size="9" fill="#86efac" text-anchor="middle">Deep Learning</text>

  <rect x="296" y="594" width="110" height="22" rx="11" fill="#2a1a40" stroke="#a855f7" stroke-width="1"/>
  <text x="351" y="609" font-family="'Courier New', monospace" font-size="9" fill="#d8b4fe" text-anchor="middle">Computer Vision</text>

  <!-- Paper reference tags (right) -->
  <text x="1160" y="609" font-family="'Courier New', monospace" font-size="9" fill="#334155" text-anchor="end">arXiv:1706.03762  ×  arXiv:2010.11929</text>

</svg>
